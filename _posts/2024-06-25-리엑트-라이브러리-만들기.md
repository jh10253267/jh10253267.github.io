---
layout: post
title:  ""
author: 악어새62
categories: [ TIL, WEB, Frontend]
image: assets/images/4.jpg
tags: [바닐라 JS, Web, Frontend]
---
## 개요

이전의 포스팅에서 컴포넌트 단위의 개발을 다뤘었다. 이런 방식을 사용하는 대표적인 라이브러리가 바로 리엑트다.

> "Don't reinvent the wheel"

## 사전 지식

### 모듈

자바스크립트에서도 다른 프로그래밍언어와 마찬가지로 패키지를 나누고 import해서 사용하는 방법이 생겼다.  
ES2015에 추가된 개념으로 import와 export를 통해 다른 파일에서 사용할 수 있다.  
예를 들어 하나의 자바스크립트 파일에서 다음과 같이 사용할 수 있다.  
```js
// sample.js
const sample = 'sample value';

export { sample };
```
하나의 모듈에서 export하고
```js
// main.js
import { sample } from './sample.js'

console.log(sample); // 'sample value'
```
다른 모듈에서 import해서 사용한다.

위에서는 하나의 값을 내보내기해서 사용했고 `export default`구문을 사용해서 모듈을 대표하는 값을 지정하고 사용할 수 있다.

```js
//sample.js
export default 'sample value';
```
```js
import { sample } from './sample.js'

console.log(sample); // 'sample'
```

## 아이디어

자바스크립트는 html을 동적으로 조작하는데 특화된 언어로써 웹을 조작하는 여러 API를 제공하고 있고 자바스크립트는 객체 지향 언어다.

이를 통해 페이지의 각 부분들을 함수로 묶어서 작성하고 모듈 단위로 분리해서 적절히 호출하여 페이지를 구성하는 방법을 생각해볼 수 있다.

```js
// main.js
import App from './App'

const root = document.getElementById('root');
root.append(new App().el);
```
```js
// App.js
export default class App {
  constructor() {
    this.el = document.createElement('div');
  }
}
```
```js
// Component.js
export class Component {
  constructor() {
    this.render();
  }
  const element = document.createElement('div');
  render() {
    el.innerHTML = `
      <h1>Hello world</h1>
      <p>lorem</p>
    `;
  };
}
```
컴포넌트를 생성하고 렌더링하는 클래스를 만든다.  

생성하려는 태그는 컴포넌트마다 달라지기 때문에 이 부분을 인자로 받아서 사용하면 좋을 것 같고 상속을 활용해서 Component클래스 입장에서 어떤 내용을 렌더링할지 알 수 없기 때문에 이를 상속받는 컴포넌트에서 구현하도록한다.
```js
export class Component {
  constructor(payload = {}) {
    // 구조분해할당
    const { tagName = 'div' } = payload
    const element = document.createElement
    this.render();
  }(tagName);
  render() {
    
  };
}
```

만약 헤더를 컴포넌트로 작성한다면 이렇게 할 수 있다.
```js
import { Component } from '../core/Main' 

export default class Header extends Component {
    constructor() {
      super({
        tagName: 'header'
      });
    }

    render() {
      this.el.innerHTML = /* html */`
        <a>Home</a>
        <a>menu1</a>
        <a>menu2</a>
        <a>menu3</a>
      `
    }
}
```








